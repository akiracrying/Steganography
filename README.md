# Основы стеганографической защиты информации
Разработка стегосистемы и её применения для сокрытия данных 
## Постановка задачи
Необходимо создать картинку формата .bmp (например, используя программу Paint) и текстовый файл, содержащий необходимое сообщение. Далее, нужно написать программу, которая производит стеганографическое сокрытие текстового файла в графическом.
## Теоретические исследования
Для начала, необходимо узнать структуру файла формата .bmp. В работе было задействовано изображение размером 16 897 494 байт, имеющее разрешение 2996 х 1880, глобальная палитра отсутствует, глубина цвета была принята за 24. Исходя из этого, если количество битов шифрования принять равным 1, то всего можно будет зашифровать 2 112 186 символов. Если же брать большее количество битов шифрования, то длина возможно сообщения будет увеличиваться.  
Также стоит отметить, что в отличие от других форматов графических изображений bmp не применяет сжатия, из-за чего он больше весит, но и не содержит мусорных байтов, и не теряет изначальные. Фактически, это просто графическое изображение, однако на байтовом уровне, помимо цветов, в нём содержится масса различных параметров.
Первые 54 байта файла BMP уходят на заголовок файла и заголовок изображения.
## Описание решения
Для решения поставленной задачи была реализована программа, способная как закодировать необходимый текст в изображение, так и имея изображение, вывести искомую пользователем информацию. В функции main() был реализован простейший выбор необходимых функций:
### encrypt()
Функция зашифровывает текст из файла text.txt в файл encoded.bmp, где за основу было взято графическое изображение из файла main_pic.bmp. При вызове данной функции, у пользователя спрашивается, сколько бит будет зашифровано.
> То есть, если цвет кодируется 1 байтом памяти, то он имеет вид, например, [10101101]. Если пользователь указал число 2, то в данном случае будет взяты 2 последних бита цвета и вскоре будут изменены на нужные пользователю. Таким образом, следует вводить число 2, чтобы не было заметно встраивание информации (по крайней мере обыденному наблюдателю).

Была реализована функция _c_masks()_, хранящая маски для текста и картинки.    
> **Маски** — это числа, представляющие из себя 8 бит, изначально, 8 единиц.

Далее, при получение параметра deg (тот, что ввёл пользователь), определённое количество бит становится равно 0 (начиная с конца). Следом, используя операцию побитового И (&) маска накладывается на биты картинки и текста. Выбираются необходимые и заменяются, используя побитовые сдвиги. Потом, используя логическое ИЛИ (|) в обнулённые биты картинки записываются необходимые пользователю биты текста. И таким образом цикл выполняется 8 раз, пока не будет заполнен 1 байт. И далее программа идёт, пока не закончится текст.
### decode()
функция производит обратные функции encode() действия. Создаётся пустой txt файл, в который в скором времени будет занесено сообщение. Далее так же вводится число бит, а также число символов, которые надо записать. Благодаря инверсии маски можно получить изначальное сообщение, ведь единицами в ней будут заполнены только те биты, которые содержат интересующую информацию. Далее, таким же образом, используя маски и побитовые операции получаем ответ и заносим в txt файл.
